---
title: JS 面试题（二）
date: 2023-04-15 11:06:20
tags:
  - JavaScript
  - 面试题
categories:
  - [面试题]
---

### 21. 数组去重
1. 利用对象属性唯一保证不重复
2. 使用 new Set
3. includes  indexOf 两层循环splice

### 22. 类的继承
很长一段时间 js 用的都是组合继承，这种继承也被成为伪经典继承，使用原型链和构造函数的方式趋势线。

1. 组合继承最大的问题时效率问题，父类的构造函数始终会被调用两次，第一次在创建子类型调用，另一次在子类构造函数中调用。
2. 圣杯继承
TODO

### 23. 事件循环
JS 任务分为同步任务和异步任务，如果是同步任务，就在JS引擎线程上执行，形成一个执行栈。如果遇到异步任务，就会把它们交给异步模块（浏览器）去处理，然后主线程继续执行后面的同步任务。
异步任务有了结果就会在异步任务队列里放一个事件。
一旦执行栈中所有的同步任务执行完毕，就会读取任务队列，将可以运行的异步任务添加到执行栈开始执行。
在 JS 中，任务队列中的任务又可以分为宏任务微任务。
在执行完主线程会查看是否有微任务有就会优先执行，然后才是宏任务。


### 24. Node.js 中的时间循环机制
Node.js 在主线程里维护了一个事件队列，当接到请求后，就将该请求作为一个事件放入这个队列中，然后继续接收其他请求。当主线程空闲时（没有请求接入时），就开始循环事件队列，检查队列中是否有要处理的事件，这时要分两种情况：如果是非 I/O 任务，就亲自处理，并通过回调函数返回到上层调用；如果是 I/O 任务，就从线程池中拿出一个线程来处理这个事件，并指定回调函数，然后继续循环队列中的其他事件。
当线程中的 I/O 任务完成以后，就执行指定的回调函数，并把这个完成的事件放到事件队列的尾部，等待事件循环，当主线程再次循环到该事件时，就直接处理并返回给上层调用。 这个过程就叫 事件循环 (Event Loop)。
无论是 Linux 平台还是 Windows 平台，Node.js 内部都是通过线程池来完成异步 I/O 操作的，而 LIBUV 针对不同平台的差异性实现了统一调用。因此，Node.js 的单线程仅仅是指 JavaScript 运行在单线程中，而并非 Node.js 是单线程。

### 25. 函数柯里化
函数柯里化又称部分求值。一个函数会首先接受一些参数，但是不会立刻求值，而是返回另外一个函数。把接受多个参数的函数变成单一参数的函数。

### 26. Promise.all
是 promise 的方法，他接受多个 promise 组成的数组作为参数，并且返回一个新的 promise 实例。
返回值会按照参数内的顺序排列。
如果全部成功，状态变为resolve，才会返回一个数组传给回调。有一个失败，就会变成 rejected。

### 27. 事件委托及冒泡
在 JS 中，添加到页面上的事件处理程序数量越多性能越差。
对事件处理程序过多的解决方案就是事件委托。
他利用了事件冒泡，只指定了一个事件处理程序，就可以管理某一种类型的所有事件。不必给每个可点击的元素分别添加事件处理程序。

### 28. 防抖和节流
防抖：
```javascript

```
节流：
```
```
应用场景：

### 29. 排序算法 事件空间的复杂度

