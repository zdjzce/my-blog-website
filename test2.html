<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    /* class Publisher {
      constructor() {
        this.observers = []
        console.log('Publisher created')
      }
      add (observer) {
        console.log('Publisher.add invoked')
        this.observers.push(observer)
      }
      remove (observer) {
        console.log('Publisher.remove invoked')
        this.observers.forEach((item, i) => {
          if (item === observer) {
            this.observers.splice(i, 1)
          }
        })
      }
      // 通知
      notify () {
        console.log('Publisher.notify invoked')
        this.observers.forEach(observer => {
          observer.update(this)
        })
      }
    }

    class Observer {
      constructor() {
        console.log('Observer created')
      }

      update () {
        console.log('Observer.update invoked')
      }
    }

    class PrdPublisher extends Publisher {
      constructor() {
        super()
      }
    }

    const a = new PrdPublisher()
    console.log('a:', a) */
    function objectEntries (obj) {
      let index = 0
      const keys = Reflect.ownKeys(obj)
      return {
        [Symbol.iterator] () {
          console.log('this:', this)
          return this
        },
        next () {
          if (index >= keys.length) return { done: true }
          const key = keys[index]
          index++
          return { value: [key, obj[key]] }
        }
      }
    }
    let obj = { first: 'Jane', last: 'Doe' };
    for (let [key, value] of objectEntries(obj)) {
      console.log(`${key}: ${value}`);
    }

  </script>
</body>

</html>